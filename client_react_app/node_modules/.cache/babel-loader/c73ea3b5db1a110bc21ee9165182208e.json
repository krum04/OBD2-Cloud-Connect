{"ast":null,"code":"import _classCallCheck from \"/home/andy/Desktop/GitRepos/obd2_cloud_connect/OBD2-Cloud-Connect/client_react_app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/andy/Desktop/GitRepos/obd2_cloud_connect/OBD2-Cloud-Connect/client_react_app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/andy/Desktop/GitRepos/obd2_cloud_connect/OBD2-Cloud-Connect/client_react_app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/andy/Desktop/GitRepos/obd2_cloud_connect/OBD2-Cloud-Connect/client_react_app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/andy/Desktop/GitRepos/obd2_cloud_connect/OBD2-Cloud-Connect/client_react_app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/andy/Desktop/GitRepos/obd2_cloud_connect/OBD2-Cloud-Connect/client_react_app/src/components/gauges/Login.jsx\";\nimport React, { Component } from 'react'; //import firebase, { auth, provider } from './firebase.js';\n\nimport { firebase } from \"firebase\";\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login() {\n    _classCallCheck(this, Login);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Login).apply(this, arguments));\n  }\n\n  _createClass(Login, [{\n    key: \"login\",\n    value: function login() {\n      var txtEmail = document.getElementById('txtEmail');\n      var txtPassword = document.getElementById('txtPassword');\n      var btnLogin = document.getElementById('btnLogin');\n      var btnSignUp = document.getElementById('btnSignUp');\n      var btnLogout = document.getElementById('btnLogout'); //const auth = firebase.auth();\n      // login event\n\n      if (btnLogin != null) {\n        btnLogin.addEventListener('click', function (e) {\n          // get email and pass\n          var email = txtEmail.value;\n          var pass = txtPassword.value; //const auth  = firebase.auth();\n          // sign in\n\n          var promise = auth.signInWithEmailAndPassword(email, pass);\n          promise.catch(function (e) {\n            return console.log(e.message);\n          });\n        });\n      }\n\n      if (btnSignUp != null) {\n        // add signup event. the signup button sends user email and pass to firebase\n        btnSignUp.addEventListener('click', function (e) {\n          // get email and pass\n          // TODO: validate email - check it is real\n          var email = txtEmail.value;\n          var pass = txtPassword.value;\n          var auth = firebase.auth();\n          var user = firebase.auth().currentUser; // create user and sign in\n\n          var promise = auth.createUserWithEmailAndPassword(email, pass);\n          promise.then(function (user) {\n            user.sendEmailVerification().then(function () {// Email sent.\n            }, function (error) {// An error happened.\n            });\n          });\n        });\n      } // end sign up button event listener\n      // realtime authentication listener\n\n\n      firebase.auth().onAuthStateChanged(function (firebaseUser) {\n        if (firebaseUser) {\n          console.log(firebaseUser);\n          btnLogout.classList.remove('hide');\n          btnSignUp.classList.add('hide');\n          btnLogin.classList.add('hide');\n        } else {\n          console.log('not logged in');\n          btnLogout.classList.add('hide');\n          btnSignUp.classList.remove('hide');\n          btnLogin.classList.remove('hide');\n        } // end else statement\n\n      }); // end function\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.login();\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        id: \"txtEmail\",\n        type: \"email\",\n        placeholder: \"Email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        id: \"txtPassword\",\n        type: \"password\",\n        placeholder: \"Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        id: \"btnLogin\",\n        class: \"btn btn-action\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Login\"), React.createElement(\"button\", {\n        id: \"btnSignUp\",\n        class: \"btn btn-action\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"SignUp\"), React.createElement(\"button\", {\n        id: \"btnLogout\",\n        class: \"btn btn-action\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"Logout\"));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport { Login as default };","map":{"version":3,"sources":["/home/andy/Desktop/GitRepos/obd2_cloud_connect/OBD2-Cloud-Connect/client_react_app/src/components/gauges/Login.jsx"],"names":["React","Component","firebase","Login","txtEmail","document","getElementById","txtPassword","btnLogin","btnSignUp","btnLogout","addEventListener","e","email","value","pass","promise","auth","signInWithEmailAndPassword","catch","console","log","message","user","currentUser","createUserWithEmailAndPassword","then","sendEmailVerification","error","onAuthStateChanged","firebaseUser","classList","remove","add","login"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n//import firebase, { auth, provider } from './firebase.js';\nimport { firebase } from \"firebase\";\n\n\nexport default class Login extends Component {\n  \n  login(){\n    var txtEmail = document.getElementById('txtEmail');\n    var txtPassword = document.getElementById('txtPassword');\n    var btnLogin = document.getElementById('btnLogin');\n    var btnSignUp = document.getElementById('btnSignUp');\n    var btnLogout = document.getElementById('btnLogout');\n    //const auth = firebase.auth();\n    \n    // login event\n\n    if (btnLogin != null){\n    btnLogin.addEventListener('click', e => {\n      // get email and pass\n      var email = txtEmail.value;\n      var pass = txtPassword.value;\n      //const auth  = firebase.auth();\n      // sign in\n      var promise = auth.signInWithEmailAndPassword(email, pass);\n        promise.catch(function (e) {\n         return console.log(e.message);\n      });\n    });\n  }\n  if (btnSignUp != null){\n  // add signup event. the signup button sends user email and pass to firebase\n  btnSignUp.addEventListener('click', function (e) {\n  // get email and pass\n  // TODO: validate email - check it is real\n  var email = txtEmail.value;\n  var pass = txtPassword.value;\n  const auth  = firebase.auth();   \n  var user = firebase.auth().currentUser;\n\n  // create user and sign in\n  var promise = auth.createUserWithEmailAndPassword(email, pass);\n  promise.then(function(user) {\n  user.sendEmailVerification().then(function() {\n  // Email sent.\n  }, function(error) {\n  // An error happened.\n  });\n  }); \n  });} // end sign up button event listener\n\n\n  // realtime authentication listener\n  firebase.auth().onAuthStateChanged(function (firebaseUser) {\n    if (firebaseUser) {\n      console.log(firebaseUser);\n      btnLogout.classList.remove('hide');\n      btnSignUp.classList.add('hide');\n      btnLogin.classList.add('hide');\n    } else {\n      console.log('not logged in');\n      btnLogout.classList.add('hide');\n      btnSignUp.classList.remove('hide');\n      btnLogin.classList.remove('hide');\n      } // end else statement\n  }); // end function\n\n  };\n      \n  render () {\n      this.login()\n      \n    return (\n      <div>\n          <input id='txtEmail' type=\"email\" placeholder=\"Email\"/>\n          <input id='txtPassword' type=\"password\" placeholder=\"Password\"/>\n          <button id=\"btnLogin\" class=\"btn btn-action\">Login</button>\n          <button id=\"btnSignUp\" class=\"btn btn-action\">SignUp</button>\n          <button id=\"btnLogout\" class=\"btn btn-action\">Logout</button>\n      </div>\n\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}