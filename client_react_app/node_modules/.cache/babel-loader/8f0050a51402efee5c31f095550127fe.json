{"ast":null,"code":"import * as firebase from 'firebase';\nvar config = {\n  apiKey: \"AIzaSyAI447DeBhpYxYtNQH4O7EVgECLnroKLsI\",\n  authDomain: \"obdiidata.firebaseapp.com\",\n  databaseURL: \"https://obdiidata.firebaseio.com\",\n  projectId: \"obdiidata\",\n  storageBucket: \"obdiidata.appspot.com\",\n  messagingSenderId: \"1042173504848\"\n};\nfirebase.initializeApp(config);\nexport var firebaseDatabase = firebase.database(); // get the login form elements from HTML\n\nvar txtEmail = document.getElementById('txtEmail');\nvar txtPassword = document.getElementById('txtPassword');\nvar btnLogin = document.getElementById('btnLogin');\nvar btnSignUp = document.getElementById('btnSignUp');\nvar btnLogout = document.getElementById('btnLogout'); // login event\n\nbtnLogin.addEventListener('click', function (e) {\n  // get email and pass\n  var email = txtEmail.value;\n  var pass = txtPassword.value;\n  var auth = firebase.auth(); // sign in\n\n  var promise = auth.signInWithEmailAndPassword(email, pass);\n  promise.catch(function (e) {\n    return console.log(e.message);\n  });\n}); // add signup event. the signup button sends user email and pass to firebase\n\nbtnSignUp.addEventListener('click', function (e) {\n  // get email and pass\n  // TODO: validate email - check it is real\n  var email = txtEmail.value;\n  var pass = txtPassword.value;\n  var auth = firebase.auth();\n  var user = firebase.auth().currentUser; // create user and sign in\n\n  var promise = auth.createUserWithEmailAndPassword(email, pass);\n  promise.then(function (user) {\n    user.sendEmailVerification().then(function () {// Email sent.\n    }, function (error) {// An error happened.\n    });\n  });\n}); // end sign up button event listener\n// show logout button when user is logged in\n\nbtnLogout.addEventListener('click', function (e) {\n  firebase.auth().signOut();\n}); // realtime authentication listener\n\nfirebase.auth().onAuthStateChanged(function (firebaseUser) {\n  if (firebaseUser) {\n    console.log(firebaseUser);\n    btnLogout.classList.remove('hide');\n    btnSignUp.classList.add('hide');\n    btnLogin.classList.add('hide');\n  } else {\n    console.log('not logged in');\n    btnLogout.classList.add('hide');\n    btnSignUp.classList.remove('hide');\n    btnLogin.classList.remove('hide');\n  } // end else statement\n\n}); // end function\n\n;","map":{"version":3,"sources":["/home/andy/Desktop/Python/rbs/test/src/components/gauges/firebase.js"],"names":["firebase","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","initializeApp","firebaseDatabase","database","txtEmail","document","getElementById","txtPassword","btnLogin","btnSignUp","btnLogout","addEventListener","e","email","value","pass","auth","promise","signInWithEmailAndPassword","catch","console","log","message","user","currentUser","createUserWithEmailAndPassword","then","sendEmailVerification","error","signOut","onAuthStateChanged","firebaseUser","classList","remove","add"],"mappings":"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","sourcesContent":["import * as firebase from 'firebase';\n\nvar config = {\n    apiKey: \"AIzaSyAI447DeBhpYxYtNQH4O7EVgECLnroKLsI\",\n    authDomain: \"obdiidata.firebaseapp.com\",\n    databaseURL: \"https://obdiidata.firebaseio.com\",\n    projectId: \"obdiidata\",\n    storageBucket: \"obdiidata.appspot.com\",\n    messagingSenderId: \"1042173504848\"\n};\n\n\nfirebase.initializeApp(config);\nexport const firebaseDatabase = firebase.database();\n\n// get the login form elements from HTML\nvar txtEmail = document.getElementById('txtEmail');\nvar txtPassword = document.getElementById('txtPassword');\nvar btnLogin = document.getElementById('btnLogin');\nvar btnSignUp = document.getElementById('btnSignUp');\nvar btnLogout = document.getElementById('btnLogout');\n\n// login event\nbtnLogin.addEventListener('click', e => {\n    // get email and pass\n    var email = txtEmail.value;\n    var pass = txtPassword.value;\n    var auth = firebase.auth();\n    // sign in\n    var promise = auth.signInWithEmailAndPassword(email, pass);\n    promise.catch(function (e) {\n    return console.log(e.message);\n    });\n    });\n   \n// add signup event. the signup button sends user email and pass to firebase\nbtnSignUp.addEventListener('click', function (e) {\n    // get email and pass\n    // TODO: validate email - check it is real\n    var email = txtEmail.value;\n    var pass = txtPassword.value;\n    var auth = firebase.auth();\n    var user = firebase.auth().currentUser;\n   \n   // create user and sign in\n    var promise = auth.createUserWithEmailAndPassword(email, pass);\n    promise.then(function(user) {\n    user.sendEmailVerification().then(function() {\n    // Email sent.\n    }, function(error) {\n    // An error happened.\n    });\n    }); \n    }); // end sign up button event listener\n   \n   // show logout button when user is logged in\n    btnLogout.addEventListener('click', function (e) {\n    firebase.auth().signOut();\n    });\n   \n   // realtime authentication listener\n    firebase.auth().onAuthStateChanged(function (firebaseUser) {\n    if (firebaseUser) {\n    console.log(firebaseUser);\n    btnLogout.classList.remove('hide');\n    btnSignUp.classList.add('hide');\n    btnLogin.classList.add('hide');\n    } else {\n    console.log('not logged in');\n    btnLogout.classList.add('hide');\n    btnSignUp.classList.remove('hide');\n    btnLogin.classList.remove('hide');\n    } // end else statement\n    }); // end function\n    ;"]},"metadata":{},"sourceType":"module"}